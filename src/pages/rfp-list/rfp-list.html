<!--
  Generated template for the RfpListPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-card-header class="list-he ">
    <ion-navbar>
      <ion-title>Home Page</ion-title>
      <button ion-button menuToggle>
        <ion-icon name="menu"></ion-icon>
      </button>
    </ion-navbar>
  </ion-card-header>
</ion-header>

<ion-content padding class=" rfplist-page ">
  <ion-row>
    <ion-col col-3 col-sm-12 col-lg-12 col-md-12 col-xl-12>
      <button ion-button (click)="openAddPage()">Create RFP</button>
    </ion-col>

    <ion-col col-3 col-sm-12 col-lg-12 col-md-12 col-xl-12>

      <div class="card-title  color-red ">My Pending RFPs</div>

    </ion-col>

    <!--   for loop row   -->
    <ion-col col-12 class="rfp-list-l ">

      <ion-item *ngIf="(list$ | async)?.length==0">
        <p>No Data</p>
      </ion-item>

      <ion-row class=" rfp-list-i " *ngFor="let rfp of list" (click)="edit(rfp)">

        <ion-col col-3 col-sm-12 col-lg-12 col-md-12 col-xl-12>
          <ion-row>
            <ion-col col-3 col-sm-1 col-lg-1 col-md-1 col-xl-2>
              <ion-avatar item-start>
                <img src="{{rfp.requested_by_img_path}}">
              </ion-avatar>
            </ion-col>
            <ion-col col-3 col-sm-10 col-lg-10 col-md-10 col-xl-8>
              <ion-row>
                <ion-col col-3 col-sm-3 col-lg-3 col-md-3 col-xl-3>
                  Project No: {{rfp.project_name}}
                </ion-col>
                <ion-col col-3 col-sm-3 col-lg-3 col-md-3 col-xl-3>
                  RFP NO: {{rfp.no}}
                </ion-col>
                <ion-col col-3 col-sm-6 col-lg-6 col-md-6 col-xl-6>
                  Status: {{rfp.rfptype }}
                </ion-col>

                <ion-col col-6 col-sm-6 col-lg-6 col-md-6 col-xl-6 class="rfpdes">
                  RFP Description: {{rfp.description}}
                </ion-col>
                <ion-col col-6 col-sm-6 col-lg-6 col-md-6 col-xl-6 class="rfpdes">
                  Last Updated: {{rfp.updated_at | date: 'MM/dd/yyyy'}}
                </ion-col>
              </ion-row>
            </ion-col>
            <ion-col col-3 col-sm-1 col-lg-1 col-md-1 col-xl-2>
              <ion-icon name="pencil" class="edit-ico ">
                <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAADzSURBVDhPzZNLDoJAEERZCojewEMYr+LGpYm3cCG3Ev8icCzwNTRG0MgMxsSXVDpTdlXsBc7fkOe5i2b6/I6iKMaUZcyCuVa7P5SspKymdylBOTOkY4A2ZZuCP9U1M8h4hCINbxmPUt4ZcnW1GzJStpdwTV3KXDLHutoNy1J2lJI2+KGumUHmU1mErM88V/Em+DuGp6vdEPDRtYo3wT8wzMtYHhKKy3QL/BPD6p8F6FbFX7ggq7IRSqpsE3w53+pM+TbTMt0CP0a+rppBYKH5Bvhy/lDXzHlXiJegQFfsaBfyTtFIf7aHjgmaP8n82/wtjnMHbo3pQJn8Z9cAAAAASUVORK5CYII=">
              </ion-icon>
            </ion-col>
          </ion-row>
        </ion-col>
      </ion-row>
      
    </ion-col>
    <!-----   for loop row end --->

    <ion-col col-3 col-sm-12 col-lg-12 col-md-12 col-xl-12>

      <div class="card-title req-tit color-green "><p>RFPs Require My Approval</p> </div>

    </ion-col>

    <!--   for loop row   -->
    <ion-col col-12 class="rfp-list-l">

      <ion-item *ngIf="(approval_list$ | async)?.length==0">
        <p>No Data</p>
      </ion-item>


      <ion-row class="rfp-list-i"  *ngFor="let rfp of approval_list" >
        <ion-col col-3 col-sm-12 col-lg-12 col-md-12 col-xl-12>
          <ion-row>
            <ion-col col-3 col-sm-1 col-lg-1 col-md-1 col-xl-2>
              <ion-avatar item-start>
                <img src="{{rfp.requested_by_img_path}}">
              </ion-avatar>
            </ion-col>
            <ion-col col-3 col-sm-10 col-lg-10 col-md-10 col-xl-8>
              <ion-row>
                <ion-col col-3 col-sm-3 col-lg-3 col-md-3 col-xl-3>
                  Project No: {{rfp.project_name}}
                </ion-col>
                <ion-col col-3 col-sm-3 col-lg-3 col-md-3 col-xl-3>
                  RFP NO: {{rfp.no}}
                </ion-col>
                <ion-col col-3 col-sm-6 col-lg-6 col-md-6 col-xl-6>
                  Status: {{rfp.rfptype }}
                </ion-col>

                <ion-col col-6 col-sm-6 col-lg-6 col-md-6 col-xl-6 class="rfpdes">
                  RFP Description: {{rfp.description}}
                </ion-col>
                <ion-col col-6 col-sm-6 col-lg-6 col-md-6 col-xl-6 class="rfpdes">
                  Last Updated: {{rfp.updated_at}}
                </ion-col>
                <ion-col col-6 col-sm-6 col-lg-6 col-md-6 col-xl-6 class="rfpdes">
                  Approved By: {{rfp.approver_name}}
                </ion-col>
               
              </ion-row>
            </ion-col>
            <ion-col col-3 col-sm-1 col-lg-1 col-md-1 col-xl-2>
              <a  *ngIf="rfp.rfptype == 'approve' " class="reject-link" (click)="toggleApproveAndReject(rfp)">
                Reject
              </a>
              <a *ngIf="rfp.rfptype != 'approve'" class="appr-link" (click)="toggleApproveAndReject(rfp)">
                Approve
              </a>
            </ion-col>
          </ion-row>
        </ion-col>
      </ion-row>
      <!-- appr-link  reject-link -->
      

    </ion-col>
    <!-----   for loop row end --->





  </ion-row>


</ion-content>
